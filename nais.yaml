image: "repo.adeo.no:5443/fpfordel"
team: teamforeldrepenger
replicas:
  min: 3
  max: 3
  cpuThresholdPercentage: 80
port: 8080
healthcheck:
  liveness:
    path: /fpfordel/internal/health/isAlive
    initialDelay: 30
    timeout: 1
    periodSeconds: 10
    failureThreshold: 10
  readiness:
    path: /fpfordel/internal/health/isReady
    initialDelay: 30
    timeout: 1
preStopHookPath: /fpfordel/internal/health/preStop
resources:
  limits:
    cpu: 500m
    memory: "2048Mi"
  requests:
    cpu: 200m
    memory: "1024Mi"
ingress:
  enabled: true
prometheus:
  enabled: true
  path: /fpfordel/internal/prometheus
fasitResources:
  used:
  - alias: appdynamics
    resourceType: ApplicationProperties
  - alias: defaultDS
    resourceType: datasource
  - alias: mqGateway02
    resourceType: queuemanager
  - alias: fpfordel_channel
    resourceType: channel
    propertyMap:
      name: MQGATEWAY02_CHANNEL
  - alias: fpfordel_mottak_queue
    resourceType: queue
    propertyMap:
      queueName: MOTTAK_QUEUE_QUEUENAME
      queueManager: MOTTAK_QUEUE_QUEUEMANAGER
  - alias: fpsak_saksinformasjon
    resourceType: restservice
  - alias: fpsak_opprett_sak
    resourceType: restservice
  - alias: fpsak_journalpostknyttning
    resourceType: restservice
  - alias: fpsak_vurderFagsystem
    resourceType: restservice
  - alias: fpsak_mottaJournalpost
    resourceType: restservice
  - alias: fp.statusinformasjon
    resourceType: restservice
  - alias: mottaInngaaendeForsendelse
    resourceType: restservice
  - alias: Aktoer_v2
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: AKTOER_V2_URL
  - alias: Journal_v2
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: JOURNAL_V2_URL
  - alias: InngaaendeJournal_v1
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: INNGAAENDEJOURNAL_V1_URL
  - alias: BehandleInngaaendeJournal_v1
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: BEHANDLEINNGAAENDEJOURNAL_V1_URL
  - alias: virksomhet:Arbeidsfordeling_v1
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: ARBEIDSFORDELING_V1_URL
  - alias: virksomhet:Sak_v1
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: SAK_V1_URL
  - alias: VIRKSOMHET:BEHANDLEOPPGAVE_V1
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: BEHANDLEOPPGAVE_V1_URL
  - alias: virksomhet:Person_v3
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: PERSON_V3_URL
  - alias: virksomhet:infotrygdsak_v1
    resourceType: webserviceendpoint
    propertyMap:
      endpointUrl: INFOTRYGDSAK_V1_URL
  - alias: srvfpfordel
    resourceType: credential
    propertyMap:
      username: SYSTEMBRUKER_USERNAME
      password: SYSTEMBRUKER_PASSWORD

  # Sikkerhet - authn, authz og token exchange
  - alias: fpfordel-oidc
    resourceType: OpenIdConnect
    propertyMap:
      agentName: oidc_OpenAM.agentName
      password: oidc_OpenAM.password
      hostUrl: oidc_OpenAM.hostUrl
      issuerUrl: oidc_OpenAM.issuerUrl
      jwksUrl: oidc_OpenAM.jwksUrl
  - alias: security-token-service-issuer
    resourceType: baseUrl
    propertyMap:
      url: oidc_sts.issuer.url
  - alias: security-token-service-jwks
    resourceType: restservice
    propertyMap:
      url: oidc_sts.jwks.url
  - alias: abac.pdp.endpoint
    resourceType: restservice
  - alias: securityTokenService
    resourceType: baseUrl

  - alias: loadbalancer:fpfordel
    resourceType: loadbalancerconfig
    propertyMap:
      url: LOADBALANCER_FQDN
  - alias: "oidc_aad_b2c"
    resourceType: OpenIdConnect

  - alias: s3-bucket-fpfordel
    resourceType: credential
    propertyMap:
      username: AWS_ACCESS_KEY_ID
      password: AWS_SECRET_ACCESS_KEY
  - alias: s3-bucket-link
    resourceType: baseUrl
    propertyMap:
      url: BUCKET_URL
  exposed:
  - alias: virksomhet:behandleDokumentforsendelse_v1
    resourceType: webserviceendpoint
    securityToken: saml
    path: "/fpfordel/tjenester/sak/behandleDokument/v1"
    wsdlGroupId: "no.nav.tjenester"
    wsdlArtifactId: "nav-behandleDokumentforsendelse-v1-tjenestespesifikasjon"
    wsdlVersion: "1.0.0"
  - alias: virksomhet:soap_behandleDokumentforsendelse_v1
    resourceType: SoapService
    securityToken: saml
    path: "/fpfordel/tjenester/sak/behandleDokument/v1"
    wsdlGroupId: "no.nav.tjenester"
    wsdlArtifactId: "nav-behandleDokumentforsendelse-v1-tjenestespesifikasjon"
    wsdlVersion: "1.0.0"
  - alias: fp.motta_dokumentforsendelse
    resourceType: restservice
    path: /fpfordel/api/dokumentforsendelse
